@model MissionVMAdmin<link rel="stylesheet" href="~/css/MissionPartial.css"><h3 class="mt-3 ms-3">Edit Mission</h3><hr><div class="container ms-3" style="height:100vh;overflow-y:scroll;">    <form method="post" asp-controller="Admin" asp-action="EditMissionPageData" id="myForm" enctype="multipart/form-data">        @*cmsPageid is for Data Edit post method and cmsId is for getdata for Edit*@        <input hidden name="mPageEditId" id="missionEId">        <div class="mt-3 d-grid">            <label>Mission Title</label>            <input type="text" class="w-100 mt-2 form form-control" id="missionText" placeholder="Enter Mission Title" asp-for="title" />            <span asp-validation-for="title" class="text-danger"></span>        </div>        <div class="mt-3 d-grid">            <label>Mission Description</label>            <textarea type="text" class="w-100  mt-2 form form-control" rows="5" id="missionDesc" placeholder="Enter Mission Description" asp-for="description"></textarea>            <span asp-validation-for="description" class="text-danger"></span>        </div>        <div class="mt-3 d-grid">            <label>Mission Short-Description</label>            <textarea type="text" class="w-100  mt-2 form form-control" rows="5" id="missionShortDesc" placeholder="Enter Mission Short-Description" asp-for="shortDescription"></textarea>            <span asp-validation-for="shortDescription" class="text-danger"></span>        </div>        <div class="mt-3">            <div class="row">                <div class="col-lg-6">                    <label class="py-2">Country*</label>                    <select id="Country" class="form-select" asp-for="countryId" >                        <option selected>Select Your Country</option>                    </select>                </div>                <div class="col-lg-6">                    <label class="py-2">City</label>                    <select id="City" class="form-select" asp-for="cityId" >                        <option selected>Select Your City</option>                    </select>                </div>            </div>        </div>        <div class="mt-3 d-grid">            <label>Organization Name</label>            <input type="text" class="w-100 mt-2 form form-control" placeholder="Enter Organisation Name" asp-for="organizationName" id="mOrgName" />            <span asp-validation-for="organizationName" class="text-danger"></span>        </div>        <div class="mt-3 d-grid">            <label>Organization Detail</label>            <textarea type="text" class="w-100  mt-2 form form-control" rows="5" placeholder="Enter Organisation Description" asp-for="organizationDetail" id="mOrgDetail"></textarea>            <span asp-validation-for="organizationDetail" class="text-danger"></span>        </div>        <div class="mt-3">            <div class="row">                <div class="col-lg-6">                    <label class="py-2">Mission Start Date</label>                    <input class="form form-control" type="text" asp-for="startDate" id="mStartD"/>                    <span asp-validation-for="startDate" class="text-danger"></span>                </div>                <div class="col-lg-6">                    <label class="py-2">Mission End Date</label>                    <input class="form form-control" type="text" asp-for="endDate" id="mEndD"/>                    <span asp-validation-for="endDate" class="text-danger"></span>                </div>            </div>        </div>        <div class="mt-3">            <div class="row">                <div class="col-lg-6">                    <label for="inputEmail4" class="form-label">Mission Type</label>                    <select class="form-select" asp-for="missionType" id="missiontype">                        <Option>Select Mission Type</Option>                        <option>Goal</option>                        <option>Time</option>                    </select>                </div>                <span asp-validation-for="missionType" class="text-danger"></span>            </div>        </div>        <div class="mt-3">            <div class="row">                <div class="col-lg-6">                    <label for="inputState" class="form-label">Skill Name</label>                    <div class="dropdown">                        <button class="btn btn-primary bg-transparent text-dark border-dark w-100 float-start" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">                            Select Skills                        </button>                        <ul class="dropdown-menu w-100" aria-labelledby="dropdownMenuButton">                            @foreach (var skill in Model.SkillList)
                            {                                <li>                                    <a class="dropdown-item" href="#">                                        <div class="form-check">                                            <input class="form-check-input" type="checkbox" value="@skill.SkillId" id="@skill.SkillId" name="listOfSkill" />                                            <label class="form-check-label" for="@skill.SkillId">@skill.SkillName</label>                                        </div>                                    </a>                                </li>                            }                        </ul>                    </div>                </div>                <div class="col-lg-6">                    <label class="py-2">Mission Theme</label>                    <select class="form-select" asp-for="themeId" id="mTheme">                        @foreach (var theme in Model.MissionThemeList)
                        {                            <option value="@theme.MissionThemeId">@theme.Title</option>                        }                    </select>                </div>            </div>        </div>        <div class="mt-3">            <div class="row">                <div class="col-lg-6">                    <label class="py-2">Seats</label>                    <input class="form form-control" type="number" placeholder="Enter Total Seats" asp-for="totalSeats" id="mSeats" />                    <span asp-validation-for="totalSeats" class="text-danger"></span>                </div>                <div class="col-lg-6">                    <label class="py-2">Deadline</label>                    <input class="form form-control" type="date" asp-for="deadline" id="mDeadline"/>                    <span asp-validation-for="deadline" class="text-danger"></span>                </div>            </div>        </div>        <div class="mt-3">            <div class="row">                <div class="col-6">                    <label class="py-2">Availibility</label>                    <select class="form-select" asp-for="availability" id="mAvailability">                        <Option>Select Availibility</Option>                        <option>Weekly</option>                        <option>Monthly</option>                        <option>Yearly</option>                    </select>                </div>            </div>        </div>        <div class="mt-3">            <label>Upload Images</label>            <div class="dropzoneE w-100 mt-3 mb-3">                <input type="file" id="fileInput" accept="image/*,video/*" style="display:none;" asp-for="images"  >                <label for="fileInput" class="file-upload-btn mt-2" style="width: 100%;background-color: white;">                    Upload                    Files                    <p style="text-align: center;">                        <img src="~/Assets/drag-and-drop.png" />                    </p>                </label>            </div>            <div class="image-preview" style="margin-left: 4rem;">            </div>        </div>        <div class="mt-3">            <label>Upload Documents</label>            <div class="dropzoneE w-100 mt-3 mb-3">                <input type="file" id="documentInput" accept=".pdf,.doc,.docx" style="display:none;" multiple asp-for="Documents">                <label for="documentInput" class="file-upload-btn mt-2" style="width: 100%;background-color: white;">                    Upload Documents                    <p style="text-align: center;"><img src="~/Assets/drag-and-drop.png" /></p>                </label>            </div>            <div class="document-preview" style="margin-left: 4rem;"></div>        </div>        <div class="d-flex mt-4 mb-4" style="justify-content:flex-end;">            <a class="btn border border-secondary border-2 rounded-pill px-4 mx-3 HoverClass" id="cancleskill">Cancel</a>            <button type="submit" class="btn border border-secondary border-2 rounded-pill px-4 HoverClass SaveSkills">Edit</button>        </div>    </form></div><script>    //Js For Upload images and Dcouments    const dropzone = document.querySelector('.dropzoneE');    const previewContainer = document.querySelector('.image-preview');    const documentDropzone = document.querySelector('#documentInput').closest('.dropzoneE');    const documentPreviewContainer = document.querySelector('.document-preview');    dropzone.addEventListener('dragover', (e) => {        e.preventDefault();        dropzone.classList.add('dragover');    });    dropzone.addEventListener('dragleave', () => {        dropzone.classList.remove('dragover');    });    dropzone.addEventListener('drop', (e) => {        e.preventDefault();        dropzone.classList.remove('dragover');        const files = e.dataTransfer.files;        handleFiles(files);    });    document.querySelector('#fileInput').addEventListener('change', (e) => {        handleFiles(e.target.files);    });    function handleFiles(files) {        for (const file of files) {            const reader = new FileReader();            reader.readAsDataURL(file);            reader.onload = () => {                const preview = document.createElement('div');                preview.innerHTML = `                                            <img src="${reader.result}" alt="${file.name}">                                                <div class="close" onclick="removeImage(event)"><i class="bi bi-x-circle"></i></div>`;                previewContainer.appendChild(preview);            };        }    }    function removeImage(e) {        e.currentTarget.parentElement.remove();    }    documentDropzone.addEventListener('dragover', (e) => {        e.preventDefault();        documentDropzone.classList.add('dragover');    });    documentDropzone.addEventListener('dragleave', () => {        documentDropzone.classList.remove('dragover');    });    documentDropzone.addEventListener('drop', (e) => {        e.preventDefault();        documentDropzone.classList.remove('dragover');        const files = e.dataTransfer.files;        handleDocumentFiles(files);    });    document.querySelector('#documentInput').addEventListener('change', (e) => {        handleDocumentFiles(e.target.files);    });    function handleDocumentFiles(files) {        for (const file of files) {            const preview = document.createElement('div');            preview.innerHTML = `                        <p>${file.name}</p>                        <div class="close" onclick="removeDocument(event)">x</div>`;            documentPreviewContainer.appendChild(preview);        };    }    function removeDocument(e) {        e.currentTarget.parentElement.remove();    }</script>